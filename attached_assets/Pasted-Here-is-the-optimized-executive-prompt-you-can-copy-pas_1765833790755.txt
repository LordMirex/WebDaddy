Here is the optimized executive prompt you can copy-paste directly to an AI (like Grok, Claude, GPT, etc.) to generate the exact IMPLEMENTATION_FIX.md file you want — without it hallucinating or adding actual code implementations.

---

**Executive Prompt:**

You are an expert PHP full-stack developer working on an e-commerce platform with user accounts, checkout (Paystack + manual payment), registration, and a user dashboard with order details.

Your task is to create **exactly one Markdown file** named `IMPLEMENTATION_FIX.md` placed in the project root.  
This file must be an **implementation guide only** — it describes required changes, flows, logic, database adjustments, and UI/UX behavior in detail.  
**Do NOT include any actual PHP/HTML/JS code snippets longer than 5-10 lines** (short pseudo-code or inline examples are allowed only for clarity).  
Focus on clear, structured instructions that a developer can follow to implement the fixes.

Core problems to fix:
- Checkout still uses old flows and asks for too much information.
- Full name is still present in database/orders — must be completely removed.
- New users should purchase with minimal friction: only email + OTP verification during checkout.
- Account is auto-created on first purchase (incomplete profile).
- After payment (Paystack or manual), redirect directly to the user's order detail page (`/user/order/{order_id}` or equivalent), NOT to any old confirm page.
- On that order page, if the account is incomplete, immediately show a blurred background with a non-reloading multi-step modal to complete the profile.
- Separate registration.php flow from checkout flow.

Key requirements for the new flows:

1. **Database & User Model**
   - Remove any full_name field entirely.
   - Display name is now username + email.
   - Required fields: username (unique), email (verified), password (hashed), whatsapp_number (mandatory, no verification), phone_number (for SMS OTP verification).

2. **Registration Page (registration.php) — separate from checkout**
   - 3-step process (AJAX/multi-step, no full page reloads):
     - Step 1: Enter email → send email OTP → verify.
     - Step 2: Username (pre-filled auto-generated, editable), Password, Confirm Password.
     - Step 3: WhatsApp number (mandatory), Phone number → send SMS OTP to phone → verify.
   - After completion: log in and redirect to dashboard.
   - Optional final step: short welcome/guide about checking orders, tracking, downloads.

3. **Checkout Page — primary conversion focus**
   - Minimal fields: only email input.
   - On submit:
     - If email exists → prompt for password (or optional login OTP).
     - If new email → send email OTP → verify → auto-create incomplete account:
       - Auto-generate username from email (e.g., replace @ with _, add random digits).
       - No password yet.
       - Start session and auto-login.
   - Payment button inactive until email is verified.
   - Allow payment (Paystack or manual) even with incomplete profile.
   - On successful payment or order creation → redirect immediately to user order detail page.

4. **Post-Purchase Order Detail Page (/user/order/{order_id})**
   - Show products, total, download links (if digital), delivery status.
   - For Paystack: status paid.
   - For manual: status pending, display bank details/instructions, "I have paid" button.
   - If profile incomplete → on page load: blur page + open multi-step modal:
     - Step 1: Show auto-generated username (editable input), Password + Confirm Password.
     - Step 2: WhatsApp number (mandatory), Phone number → send/verify SMS OTP.
     - Step 3: Success message + short guide (how to track orders, download files, update profile).
   - Modal closes → unblur → user sees full order details.

5. **Manual Payment Handling**
   - Move all payment instruction modals/logic to the order detail page.
   - Pending orders show bank details and confirmation button there.

6. **Admin & Displays**
   - Orders and user lists show username + email, never full name.

Structure the IMPLEMENTATION_FIX.md file with clear sections:
- Overview of Required Changes
- 1. Database & User Model Changes
- 2. Registration Page Flow
- 3. Checkout Page Flow
- 4. Post-Purchase Redirect & Account Completion Modal
- 5. Manual Payment Specific Handling
- 6. Admin & Order Display Changes
- 7. Additional Recommendations

Use bullet points, numbered steps, flow descriptions, and short pseudo-examples where needed for clarity.  
Keep the entire file professional, concise but detailed, and focused only on guidance — no full code blocks.

Output only the full content of IMPLEMENTATION_FIX.md — nothing else before or after.

---

Copy everything from “You are an expert...” to the end and paste it into the AI. It will generate exactly the optimized implementation guide you need.