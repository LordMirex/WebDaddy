Design & Architecture Documentation
System Architecture Document (Document 6)

Overview: The system consists of three PHP applications and a central database. A Public Web App (public/) provides the storefront: listing templates, showing live demos, and capturing orders. An Admin App (admin/) allows management of templates, domains, orders, affiliates, and settings. An Affiliate App (affiliate/) provides each affiliate with a read-only dashboard of clicks, sales, and commissions. All three use a shared MySQL database for data storage. Transactional email is handled via PHPMailer, and order checkout triggers a WhatsApp chat link (https://wa.me/<number>?text=<message>) to the configurable support number
directchatnumber.com
. This design leverages plain PHP 7+ and Bootstrap for a fast, minimal stack.

Component Diagrams: We document the architecture with text-based PlantUML. For example, one diagram shows three actor/API components – the Public site, Admin site, and Affiliate site – interacting with the MySQL DB and WhatsApp (user chat) as external services. Another sequence diagram details domain inventory operations (Admin adding domains, User selecting, then Admin marking sold). These diagrams clarify how a “Public User” requests a template demo (in an iframe) and submits an order, how the Admin confirms payment and updates the database, and how Affiliates log in to request withdrawals.

Data Flow: The main order flow is illustrated by a flowchart. In brief:

User → Order Form: A public visitor browses templates and clicks “Get This Website,” filling a short form. The form handler writes a pending_order record in the DB.

Form → WhatsApp: On submit, the server generates a pre-filled WhatsApp chat link with the order details (using wa.me format
directchatnumber.com
) and redirects the user.

WhatsApp Chat: The customer and admin chat. When the sale is confirmed, the Admin marks the order “paid” in the Admin panel. This updates the domains table (marking the chosen domain as in_use), inserts a sale record, and if applicable credits an affiliate.

DB → Email: After confirming payment, the Admin triggers a PHPMailer email to the customer with site credentials. Internally, the sales table is recorded with payment and commission.

This flow ensures a simple, human-driven checkout while storing all data in MySQL for reporting.

Technology Stack: We use plain PHP (7.4+), MySQL 5.7+, and Bootstrap 5 for UI (mobile-first and responsive)
getbootstrap.com
. There is no heavy JavaScript framework; only minimal JS for UI components. PHPMailer handles outgoing emails (via SMTP) to avoid relying on the mail() function
github.com
. All business logic runs server-side for maximum compatibility and performance. A settings table holds configurable values such as the WhatsApp number (editable in Admin) and affiliate cookie duration.

File/Folder Structure: The code is organized into distinct subfolders:

public/ – Public-facing pages (index, template detail, demo modal, order form, assets).

admin/ – Admin panel pages (login, templates, domains inventory, orders, affiliates, settings).

affiliate/ – Affiliate dashboard pages (login, earnings, withdrawal request).

includes/ – Shared PHP code (DB connection, common functions).

assets/ – CSS, Bootstrap, images, and JavaScript (Bootstrap scripts only).

This structure separates concerns and makes deployment straightforward on a cPanel PHP host.